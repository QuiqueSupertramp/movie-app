var B=Object.defineProperty,w=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var y=(r,e,s)=>e in r?B(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s,f=(r,e)=>{for(var s in e||(e={}))V.call(e,s)&&y(r,s,e[s]);if(b)for(var s of b(e))M.call(e,s)&&y(r,s,e[s]);return r},p=(r,e)=>w(r,C(e));import{r as x,j as t,u as P,a as o,G as _,b as k,F as N}from"./index.302b059a.js";import{M as j,P as O}from"./Pagination.e0c51844.js";const S=()=>{const[r,e]=x.exports.useState(!1);return{isOpen:r,toggleModal:()=>e(!r)}},i=({dataset:r,filters:e,setFilter:s,text:u,filter:a})=>{const l=x.exports.useRef();return x.exports.useEffect(()=>{var c;e[a]===((c=l==null?void 0:l.current)==null?void 0:c.dataset.filterss)?(l.current.classList.add("bg-orange-600"),l.current.classList.remove("bg-slate-400")):(l.current.classList.remove("bg-orange-600"),l.current.classList.add("bg-slate-400"))},[e]),t("button",{ref:l,"data-filterss":r,className:"px-3 py-1 m-2 bg-slate-400 rounded-sm hover:scale-105",onClick:()=>{s(l.current.dataset.filterss,l.current.innerText)},children:u})},G=({toggleModal:r,params:e,genres:s})=>{var m,v;const u=P(),[a,l]=x.exports.useState({genre:e.get("genreID"),title:e.get("genreName"),sortBy:(m=e.get("sortBy"))!=null?m:"vote_average.desc",minVotes:(v=e.get("minVotes"))!=null?v:"100",page:e.get("page")}),c=(n,h)=>l(F=>p(f({},F),{genre:n,title:h})),d=n=>l(h=>p(f({},h),{sortBy:n})),g=n=>l(h=>p(f({},h),{minVotes:n}));return o("div",{className:"m-10",children:[o("div",{className:"flex flex-wrap gap-y-5 gap-x-20",children:[o("div",{className:"w-full",children:[t("label",{htmlFor:"genre",className:"font-bold",children:"G\xE9nero"}),t("div",{children:s&&s.map(n=>t(i,{filters:a,filter:"genre",setFilter:c,dataset:n.id,text:n.name},n.id))})]}),o("div",{children:[o("label",{htmlFor:"sortBy",className:"font-bold",children:["Ordenar por:"," "]}),o("div",{children:[t(i,{filters:a,filter:"sortBy",setFilter:d,dataset:"vote_average.desc",text:"Votos"}),t(i,{filters:a,filter:"sortBy",setFilter:d,dataset:"popularity.desc",text:"Popularidad"}),t(i,{filters:a,filter:"sortBy",setFilter:d,dataset:"revenue.desc",text:"Ingresos"})]})]}),o("div",{children:[o("label",{htmlFor:"sortBy",className:"font-bold",children:["M\xEDnimo de votos:"," "]}),o("div",{children:[t(i,{filters:a,filter:"minVotes",setFilter:g,dataset:"1",text:"1"}),t(i,{filters:a,filter:"minVotes",setFilter:g,dataset:"100",text:"100"}),t(i,{filters:a,filter:"minVotes",setFilter:g,dataset:"500",text:"500"}),t(i,{filters:a,filter:"minVotes",setFilter:g,dataset:"1000",text:"1000"})]})]})]}),t("button",{className:"px-14 py-2 w-full lg:w-fit bg-slate-900 text-slate-50 rounded-sm mt-14 hover:scale-105",onClick:()=>{u(`/categories?genreID=${a.genre}&genreName=${a.title}&minVotes=${a.minVotes||"1000"}&sortBy=${a.sortBy||"vote_average.desc"}&page=1`),r()},children:"Filtrar"})]})},I=({isOpen:r,toggleModal:e,children:s})=>t("div",{className:"fixed top-0 left-0 right-0 bottom-0 z-40 w-full h-full bg-slate-800 bg-opacity-50 backdrop-blur-sm m-auto flex justify-center items-center  ",children:o("div",{className:"relative shadow-[0_0_30px_black] z-50 w-3/4 h-3/4 bg-slate-200 m-auto rounded-md overflow-auto",children:[t("button",{onClick:e,className:"absolute top-3 right-4 shadow-md shadow-neutral-400 p-2 leading-none bg-neutral-300 font-bold text-slate-800 rounded-sm",children:"X"}),s]})}),D=()=>{var g;const{genres:r}=x.exports.useContext(_),[e,s]=k(),u=(g=e.get("sortBy"))!=null?g:"vote_average.desc",a=m=>{e.set("sortBy",m),e.set("page",1),s(e)},l=e.get("genreName")==="null"||!e.get("genreName")?"Categor\xEDas":e.get("genreName"),{isOpen:c,toggleModal:d}=S();return o(N,{children:[c&&t(I,{toggleModal:d,isOpen:c,children:t(G,{toggleModal:d,params:e,genres:r})}),o("header",{className:"flex items-center justify-between rounded-sm mt-8 mb-4 bg-slate-700 text-slate-50 w-3/4 px-10 py-4",children:[o("div",{className:"text-left w-full",children:[o("label",{htmlFor:"sortBy",className:"text-white",children:["Ordenar por:"," "]}),o("select",{className:"py-1 px-3 text-black border-0 outline-none rounded-sm ml-2",name:"sortBy",value:u,onChange:m=>a(m.target.value),children:[t("option",{value:"popularity.desc",children:"Popularidad"}),t("option",{value:"vote_average.desc",children:"Votos"}),t("option",{value:"revenue.desc",children:"Ingresos"})]})]}),t("h2",{className:"font-bold text-center w-full text-3xl",children:l}),t("button",{className:"text-right w-full",onClick:d,children:"Filtro avanzado"})]})]})},z=()=>t(N,{children:o("section",{className:"flex flex-col justify-center items-center gap-10 mb-20",children:[t(D,{}),t(j,{by:"category"}),t(O,{})]})});export{z as default};
