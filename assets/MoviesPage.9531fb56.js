import{m as N,A as b,d as y,r as c,a as s,j as t}from"./index.302b059a.js";function _(e){var r,n,a;return e?{title:e.title||e.name||"not name",tagline:e.tagline||"",image:e.poster_path,voteAverage:e.vote_average.toFixed(1)||"-",voteCount:((r=Number(e.vote_count))==null?void 0:r.toLocaleString())||void 0,overview:e.overview||"No hay descripci\xF3n de la pel\xEDcula.",trailer:((a=(n=e.videos)==null?void 0:n.results[0])==null?void 0:a.key)||void 0}:[]}const M=async e=>{const o=`https://api.themoviedb.org/3/movie/${e}?api_key=${b}&language=es&append_to_response=videos&include_image_language=es,null`,{data:r,success:n,error:a}=await N(o);return{data:r,success:n,error:a}},A=()=>{const{id:e}=y(),[o,r]=c.exports.useState({data:null,succes:!0,error:!1}),[n,a]=c.exports.useState(!0),i=async()=>{a(!0);const l=await M(e);r({data:_(l.data),success:l.success,error:l.error}),a(!1)};return c.exports.useEffect(()=>{i()},[]),{movie:o,isLoading:n}},j=()=>{var u,m,g,v,p,h,x,f;const{movie:e,isLoading:o}=A(),r=((u=e.data)==null?void 0:u.title)||"",n=(m=e.data)==null?void 0:m.tagline,a=(g=e.data)==null?void 0:g.voteAverage,i=Number((v=e.data)==null?void 0:v.voteCount).toLocaleString(),l=(p=e.data)==null?void 0:p.overview,w=(h=e.data)==null?void 0:h.image,d=(f=(x=e.data)==null?void 0:x.trailer)!=null?f:null;return s("div",{children:[o===!0&&t("h2",{children:"Cargando..."}),e.error&&s("div",{children:[t("p",{children:e.error.code}),t("p",{children:e.error.message})]}),e.data&&s("section",{children:[s("article",{className:"flex justify-between gap-32 w-4/5 xl:w-9/12 mx-auto my-20",children:[s("div",{className:"flex flex-col gap-14 text-slate-50 p-2",children:[s("div",{className:"flex items-center gap-10 xl:gap-20",children:[s("div",{children:[t("h2",{className:"text-5xl font-bold",children:r}),t("p",{className:"mt-2 text-slate-300 italic",children:n})]}),t("div",{className:"flex gap-5 items-stretch",children:s("div",{className:"flex flex-col items-center gap-2 rounded-md bg-slate-600 w-max p-4",children:[t("span",{className:"text-5xl font-bold italic text-slate-400",children:a}),s("span",{className:"",children:[i," votos"]})]})})]}),t("div",{className:"text-lg",children:l})]}),t("div",{className:" ",children:t("img",{className:"rounded-sm max-w-none",width:"300",src:`https://image.tmdb.org/t/p/w300/${w}`,alt:""})})]}),d&&t("iframe",{className:"mx-auto h-[70vw] max-h-screen w-full py-20 px-20 lg:px-40 rounded-md",src:`https://www.youtube.com/embed/${d}`})]})]})};export{j as default};
